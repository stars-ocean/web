<!DOCTYPE html>
<!-- copy right: Cong Luo -->
<html>
<head>
	<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

	<script>
	</script>
	<style>

	.sidenav {
  width: 110px;
  position: fixed;
  z-index: 1;
  top: 30px;
  left: 10px;
  background: white;
  overflow-x: hidden;
  padding: 8px 0;
	font-size: 11px;
}

.sidenav a {
  padding: 3px 8px 6px 16px;
  text-decoration: none;
  font-size: 11px;
  color: #aaaaaa;
  display: block;
	align: left;
}

.sidenav a:hover {
  color: ##3176FE;
}



	body {
		line-height: 1.5;
		padding: 20px;
		box-shadow: 5px 5px 5px #aaaaaa;
	  text-align: justify;
	  color: #555555;
	  font-family: Arial, Helvetica, sans-serif;
		font-size:16px;
	  max-width: 650px;
	  min-width: 650px;
	  width: auto;
	  width:650px;
	  margin: auto;
	  bottom: 10px;
	  background-repeat: no-repeat; /* Do not repeat the image */
	  background-image: url('img/bg.jpg');
	  background-size: cover;
	  top: 40px;
	  z-index: -1;
	  display: block;
	}

	.color1 {
	  color: #99ccff;
	  font-weight: bold;

	}
	.color2 {
	  color: #E4974E;
	}

	a {
	  color: ##377ED9;
	}

	a:hover {
	  color: #222222;
	}

	code{
		background-color: #DAE7F8;
	}


	img{
		display: block;
		margin-left: auto;
		margin-right: auto;
	}

	.article{
	  margin: auto;
	  max-width: 500px;
	  margin-top:10px;
	  font-weight: bold;
	  font-size: 14px;
	  pad: 3px;
	}

	.article:hover {
	  color: #333333;
	  background-color: #eeeeee;
	  transition-delay: 0.02s;
	}

	.list {
	  margin: auto;
	  max-width: 500px;
	  margin-top:10px;
	}

	.container{
	  margin-top:120px;
	}

	.prettyprint{
		font-size: 13px;
		background-color: #EFF4FF;
	}

	.cap{
		max-width: 500px;
		width: 500px;
		font-size: 15px;
		font-style: italic;
		margin: auto;
	}

	#titlebar{
	  opacity: 1.0;
	  z-index: 10;
	  cursor: grab;
	  background-image: linear-gradient(#e5e4e5, #cecece);
		max-width: 600px;
	  min-width: 600px;
	  height: 22px;
	  border-radius: 0px;
	}



	#frame{
	  position: absolute;
	  margin-top: 2px;
	  background-color: #000000;
	  opacity: 0.8;
	  max-width: 600px;
	  min-width: 600px;
	  height: 350px;
	  border-radius: 5px;
	  z-index: 9;
	  font-size: 12px;
	  text-align: left;
	}

	#courtesy{
	  font-size: 12px;
		font-style: italic;
	}

	</style>
</head>
<body>
<!--
	<div class="sidenav">
	  <a href="#bg">Background</a>
	  <a href="#md">Method / result</a>
	  <a href="#th">Some thoughts</a>
	</div> -->



<h1>
	An Integrated Web and HPC based Earthquake Simulation Environment
</h1>

<p>
 Numerical simulation of 3D seismic wave propagation is an important tool for earthquake studies. However, developing the numerical schemes for solving the partial differential equations is not the only difficult part. The data acquisition, preprocessing, mesh generation, visualization etc, relies on various tools and professional knowledges, which potentially formed an invisible obstacle for the researchers to carry out the simulation for studying realistic earthquakes. In this blog, I would like to briefly introduce an integrated web and HPC based 3D seismic wave propagation simulation environment that I design and implemented. </p>


<p>
 By properly developing an automated workflow pipeline on the server side (which is another topic maybe I will cover in another blog),  the user taskflow is greatly simplified as illustrated below.
</p>

<img src="img/user_taskflow.png" width="400">
<div class='cap'>
The user taskflow, which is already greatly simplified compared with conventional one. The user input will be standardized and used for building professional study area model.
</div>


<p>
For realtime visualization for some steps in both  preprocessing and postprocessing (WYSIWYW), an OpenGL ES 2.0 capable GPU and a modern web browser support WebGL are required for the user side. The figure below illustrates the user interface of this environment.
</p>

<img src="img/frontend.png" width="520">
<div class='cap'>
The web-based user interface. User can select the study areas at global scale, generate the mesh, customize the simulation parameter, submitting the HPC job, retrieve the results directly via a supported browser (high resolution velocity model is not integrated, as usually it is acquired from field study, but can be uploaded for automated  processing).
</div>


<p>
Most of the simulation codes in geophysics community would require multiple computing nodes (with the magnitude order up to 1E3). However, for preprocessing and postprocessing, the computational cost is not very high but would require fast processing  for realtime user reaction (the HPC queueing time hence should be avoided), how to implement this in a complete architecture might be too complicated, also beyonds the scope of this blog.</p>
<p>
From the user perspective, once the simulation is finished, they can download the simulation results, or if needed, the 3D results can also be interactively visualized as illustrated below.
</p>

<img src="img/visualization.png" width="500">
<div class='cap'>
Interactive visualization of the 3D velocity field of the simulated seismic event at different time points. One philosophy for developing this visualization tool is: only extracting the useful areas (i.e., the areas where velocity is not zero) for visualization, hence the complete 3D wavefield can be directly visualized, no more traditional slicing is needed.
</div>


<h4><a name='th'>Some thoughts</a></h4>
<p>
It seems integrated web-based simulation environment (e-science) development is a popular filed couple of years ago. I know there is an EU funded research project worked by 3-4 universities aims at delivering a similar solution (there might be another close but earlier project from Caltech).  Science and technology keep evolving, deep learning is already one of the most popular tools for many research disciplines, I still hope more e-science projects like this can emerge to facilitate the development of numeircal simulation. Both statistics (deep learning) and physics are important.
</p>




<p id='courtesy'>
	Researcher / content creator: Cong Luo. Copyright reserved.
</p>
</body>
</html>
